import Code from '../../../components/Code.jsx';

# Validação de Dados

## Database

src/database/migration.js:

```js
...

const foodsSql = `
  CREATE TABLE foods (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(20) NOT NULL,
    image VARCHAR(50) NOT NULL,
    price DOUBLE NOT NULL,
    category_id INTEGER NOT NULL REFERENCES categories (id)
  )
`;

...

const usersSql = `
  CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(50) NOT NULL,
    email VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(20) NOT NULL CHECK(LENGTH(password) >= 8)
  )
`;

...
```

## Back-end

```txt
$ npm install celebrate
```

src/routes.js:

<Code src="https://raw.githubusercontent.com/lucachaves/lp2-classroom-2022/validation/src/routes.js" lang="js" />

## Front-end

public/signup.html:

<Code src="https://raw.githubusercontent.com/lucachaves/lp2-classroom-2022/validation/public/signup.html" lang="html" />

public/foods.html:

```html
<div class="mb-3">
  <label for="name" class="form-label">Nome</label>
  <input type="text" class="form-control" id="name" name="name" required />
</div>
<div class="mb-3">
  <label for="price" class="form-label">Preço</label>
  <input
    type="number"
    class="form-control"
    id="price"
    name="price"
    required
    step="0.01"
  />
</div>
<div class="mb-3">
  <label for="category" class="form-label">Categoria</label>
  <select
    class="form-control"
    id="category"
    name="category_id"
    required
  ></select>
</div>
<div class="mb-3">
  <label for="food-image-file" class="form-label">Imagem</label>
  <input
    type="file"
    id="food-image-file"
    class="form-control"
    name="image"
    required
  />
</div>
```
